(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3373],{1091:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(50208).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},42504:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var i=t(81767),r=t(13647),a=t(94406),l=t(69076),n=t(88680),c=t(69990),d=t(8382),o=t(24004);t(64509);var u=t(55228),x=t(52238),h=t(11224),m=t(4904);t(1091);var j=t(4256),p=t(14734),v=t(36653),y=t(96003),f=t(85396),g=t(51456);function N(){let[e,s]=(0,r.useState)([]),[t,m]=(0,r.useState)(null),[g,N]=(0,r.useState)(!0),[_,w]=(0,r.useState)(null),[A,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[F,T]=(0,r.useState)({activity_date:"",activity_type:"",activity_description:"",hours:"",description:""});(0,r.useEffect)(()=>{Z()},[]);let Z=async()=>{try{N(!0);let e="current-user-id",t=await fetch("/api/volunteer-hours/user/".concat(e)),i=await t.json(),r=await fetch("/api/volunteer-hours/stats/".concat(e)),a=await r.json();t.ok&&s(i.data||[]),r.ok&&m(a.data)}catch(e){w("Failed to fetch volunteer hours data"),console.error("Error fetching data:",e)}finally{N(!1)}},H=async e=>{if(e.preventDefault(),!F.activity_date||!F.activity_type||!F.activity_description||!F.hours)return void w("Please fill in all required fields");let s=parseFloat(F.hours);if(s<=0||s>24)return void w("Hours must be between 0 and 24");try{k(!0),w(null);let e=await fetch("/api/volunteer-hours/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({intern_id:"current-user-id",activity_date:F.activity_date,activity_type:F.activity_type,activity_description:F.activity_description,hours:s,description:F.description})}),t=await e.json();t.success?(S(!1),T({activity_date:"",activity_type:"",activity_description:"",hours:"",description:""}),Z()):w(t.error||"Failed to submit volunteer hours")}catch(e){w("Failed to submit volunteer hours"),console.error("Error submitting hours:",e)}finally{k(!1)}};return g?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,i.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Volunteer Hours"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Track and submit your volunteer activities"})]}),(0,i.jsxs)(u.lG,{open:A,onOpenChange:S,children:[(0,i.jsx)(u.zM,{asChild:!0,children:(0,i.jsxs)(l.$,{className:"flex items-center gap-2",children:[(0,i.jsx)(p.A,{className:"w-4 h-4"}),"Submit Hours"]})}),(0,i.jsxs)(u.Cf,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(u.c7,{children:[(0,i.jsx)(u.L3,{children:"Submit Volunteer Hours"}),(0,i.jsx)(u.rr,{children:"Submit your volunteer hours for approval. Please provide detailed information about your activities."})]}),(0,i.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"activity_date",children:"Activity Date *"}),(0,i.jsx)(n.p,{id:"activity_date",type:"date",value:F.activity_date,onChange:e=>T({...F,activity_date:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"hours",children:"Hours *"}),(0,i.jsx)(n.p,{id:"hours",type:"number",step:"0.5",min:"0",max:"24",value:F.hours,onChange:e=>T({...F,hours:e.target.value}),placeholder:"2.5",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"activity_type",children:"Activity Type *"}),(0,i.jsxs)(o.l6,{value:F.activity_type,onValueChange:e=>T({...F,activity_type:e}),children:[(0,i.jsx)(o.bq,{children:(0,i.jsx)(o.yv,{placeholder:"Select activity type"})}),(0,i.jsxs)(o.gC,{children:[(0,i.jsx)(o.eb,{value:"Tutoring Session",children:"Tutoring Session"}),(0,i.jsx)(o.eb,{value:"Event Assistance",children:"Event Assistance"}),(0,i.jsx)(o.eb,{value:"Mentoring",children:"Mentoring"}),(0,i.jsx)(o.eb,{value:"Administrative Support",children:"Administrative Support"}),(0,i.jsx)(o.eb,{value:"Content Creation",children:"Content Creation"}),(0,i.jsx)(o.eb,{value:"Other",children:"Other"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"activity_description",children:"Activity Description *"}),(0,i.jsx)(d.T,{id:"activity_description",value:F.activity_description,onChange:e=>T({...F,activity_description:e.target.value}),placeholder:"Describe what you did during this volunteer activity...",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.J,{htmlFor:"description",children:"Additional Notes"}),(0,i.jsx)(d.T,{id:"description",value:F.description,onChange:e=>T({...F,description:e.target.value}),placeholder:"Any additional details or reflections..."})]}),_&&(0,i.jsxs)(x.Fc,{children:[(0,i.jsx)(v.A,{className:"h-4 w-4"}),(0,i.jsx)(x.TN,{children:_})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,i.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,i.jsx)(l.$,{type:"submit",disabled:C,children:C?"Submitting...":"Submit Hours"})]})]})]})]})]}),t&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(a.ZB,{className:"text-sm font-medium",children:"Total Hours"}),(0,i.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:t.total_hours}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.approved_hours," approved"]})]})]}),(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(a.ZB,{className:"text-sm font-medium",children:"Pending Hours"}),(0,i.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:t.pending_hours}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(a.ZB,{className:"text-sm font-medium",children:"Monthly Average"}),(0,i.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:t.average_hours_per_month}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hours per month"})]})]}),(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(a.ZB,{className:"text-sm font-medium",children:"Recent Submissions"}),(0,i.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("div",{className:"text-2xl font-bold",children:t.recent_submissions}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]}),(0,i.jsxs)(h.tU,{defaultValue:"all",className:"space-y-4",children:[(0,i.jsxs)(h.j7,{children:[(0,i.jsx)(h.Xi,{value:"all",children:"All Hours"}),(0,i.jsx)(h.Xi,{value:"pending",children:"Pending"}),(0,i.jsx)(h.Xi,{value:"approved",children:"Approved"}),(0,i.jsx)(h.Xi,{value:"rejected",children:"Rejected"})]}),(0,i.jsx)(h.av,{value:"all",className:"space-y-4",children:(0,i.jsx)(b,{hours:e})}),(0,i.jsx)(h.av,{value:"pending",className:"space-y-4",children:(0,i.jsx)(b,{hours:e.filter(e=>"pending"===e.status)})}),(0,i.jsx)(h.av,{value:"approved",className:"space-y-4",children:(0,i.jsx)(b,{hours:e.filter(e=>"approved"===e.status)})}),(0,i.jsx)(h.av,{value:"rejected",className:"space-y-4",children:(0,i.jsx)(b,{hours:e.filter(e=>"rejected"===e.status)})})]})]})}function b(e){let{hours:s}=e;return 0===s.length?(0,i.jsx)(a.Zp,{children:(0,i.jsxs)(a.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,i.jsx)(f.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"No volunteer hours found"})]})}):(0,i.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,i.jsxs)(a.Zp,{children:[(0,i.jsx)(a.aR,{children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.ZB,{className:"text-lg",children:e.activity_type}),(0,i.jsxs)(a.BT,{children:[formatDate(e.activity_date)," • ",e.hours," hours"]})]}),getStatusBadge(e.status)]})}),(0,i.jsxs)(a.Wu,{children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.activity_description}),e.description&&(0,i.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[(0,i.jsx)("strong",{children:"Notes:"})," ",e.description]}),e.rejection_reason&&(0,i.jsxs)(x.Fc,{children:[(0,i.jsx)(v.A,{className:"h-4 w-4"}),(0,i.jsxs)(x.TN,{children:[(0,i.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejection_reason]})]}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[(0,i.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Submitted on ",formatDate(e.created_at),e.approved_at&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"mx-2",children:"•"}),(0,i.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Approved on ",formatDate(e.approved_at)]})]})]})]},e.id))})}},56543:(e,s,t)=>{Promise.resolve().then(t.bind(t,42504))},96003:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(50208).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6411,909,4918,9040,4772,2168,6721,3664,7358],()=>s(56543)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{2681:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(50208).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},8174:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(50208).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},32690:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(50208).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},52942:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(50208).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},56475:(e,s,t)=>{Promise.resolve().then(t.bind(t,78302))},78302:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(81767),l=t(13647),i=t(94406),c=t(69076),n=t(88680),r=t(69990),d=t(8382),o=t(24004),x=t(64509),h=t(11224),m=t(55228),u=t(52238),j=t(32690),p=t(14734),g=t(36653),N=t(52942),f=t(51456),v=t(4904),y=t(88222),w=t(4256),b=t(85396),k=t(2681),A=t(8174);function S(){let[e,s]=(0,l.useState)([]),[t,S]=(0,l.useState)([]),[_,C]=(0,l.useState)(!0),[B,T]=(0,l.useState)(null),[F,Z]=(0,l.useState)(!1),[M,J]=(0,l.useState)(null),[q,E]=(0,l.useState)({subject:"",topic:"",date:"",time:"",duration:60,notes:""});(0,l.useEffect)(()=>{L()},[]);let L=async()=>{try{C(!0);let e=await fetch("/api/tutoring/sessions"),t=await e.json(),a=await fetch("/api/tutoring/tutors"),l=await a.json();e.ok&&s(t.sessions||[]),a.ok&&S(l.tutors||[])}catch(e){T("Failed to fetch tutoring data"),console.error("Error fetching tutoring data:",e)}finally{C(!1)}},R=async e=>{if(e.preventDefault(),!M||!q.subject||!q.topic||!q.date||!q.time)return void T("Please fill in all required fields");try{let e=await fetch("/api/tutoring/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tutor_id:M.id,subject:q.subject,topic:q.topic,scheduled_date:q.date,scheduled_time:q.time,duration:q.duration,notes:q.notes})}),s=await e.json();s.success?(Z(!1),J(null),E({subject:"",topic:"",date:"",time:"",duration:60,notes:""}),L()):T(s.error||"Failed to book session")}catch(e){T("Failed to book session"),console.error("Error booking session:",e)}},$=async e=>{try{let s=await fetch("/api/tutoring/sessions/".concat(e,"/complete"),{method:"POST"}),t=await s.json();t.success?L():T(t.error||"Failed to complete session")}catch(e){T("Failed to complete session"),console.error("Error completing session:",e)}},W=e=>{switch(e){case"scheduled":return"secondary";case"in_progress":case"completed":return"default";case"cancelled":return"destructive";default:return"outline"}},O=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),D=e=>new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),V=e.filter(e=>"scheduled"===e.status||"in_progress"===e.status),P=e.filter(e=>"completed"===e.status);return e.filter(e=>"cancelled"===e.status),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tutoring System"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Book sessions, connect with tutors, and track your progress"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(c.$,{onClick:L,disabled:_,children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2 ".concat(_?"animate-spin":"")}),"Refresh"]}),(0,a.jsxs)(c.$,{onClick:()=>Z(!0),children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Book Session"]})]})]}),B&&(0,a.jsxs)(u.Fc,{className:"border-red-200 bg-red-50",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)(u.TN,{className:"text-red-800",children:B})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Total Sessions"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time sessions"})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Upcoming"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:V.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scheduled sessions"})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Completed"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:P.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Finished sessions"})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Available Tutors"}),(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active tutors"})]})]})]}),(0,a.jsxs)(h.tU,{defaultValue:"sessions",className:"w-full",children:[(0,a.jsxs)(h.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(h.Xi,{value:"sessions",children:"My Sessions"}),(0,a.jsx)(h.Xi,{value:"tutors",children:"Find Tutors"}),(0,a.jsx)(h.Xi,{value:"schedule",children:"Schedule"})]}),(0,a.jsx)(h.av,{value:"sessions",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"My Tutoring Sessions"}),(0,a.jsx)(i.BT,{children:"View and manage your tutoring sessions"})]}),(0,a.jsx)(i.Wu,{children:_?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(j.A,{className:"w-6 h-6 animate-spin mr-2"}),"Loading sessions..."]}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(N.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No tutoring sessions found"}),(0,a.jsxs)(c.$,{onClick:()=>Z(!0),className:"mt-4",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Book Your First Session"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsxs)("h3",{className:"font-semibold",children:[e.subject," - ",e.topic]}),(0,a.jsx)(x.E,{variant:W(e.status),children:e.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["with ",e.tutor_name]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[O(e.scheduled_date)," at ",D(e.scheduled_time)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.duration," minutes"]})]}),e.notes&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.notes})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["scheduled"===e.status&&(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>$(e.id),children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Complete"]}),e.meeting_link&&(0,a.jsx)(c.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)("a",{href:e.meeting_link,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Join"]})})]})]})},e.id))})})]})}),(0,a.jsx)(h.av,{value:"tutors",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Available Tutors"}),(0,a.jsx)(i.BT,{children:"Browse and connect with qualified tutors"})]}),(0,a.jsx)(i.Wu,{children:_?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(j.A,{className:"w-6 h-6 animate-spin mr-2"}),"Loading tutors..."]}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No tutors available"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)(i.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.image_url?(0,a.jsx)("img",{src:e.image_url,alt:e.name,className:"w-12 h-12 rounded-full"}):(0,a.jsx)(y.A,{className:"w-6 h-6 text-gray-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.rating.toFixed(1)}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.total_sessions," sessions)"]})]})]})]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{className:"text-sm font-medium",children:"Subjects"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.subjects.map(e=>(0,a.jsx)(x.E,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{className:"text-sm font-medium",children:"Rate"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.hourly_rate,"/hour"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{className:"text-sm font-medium",children:"Bio"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.bio})]}),(0,a.jsxs)(c.$,{className:"w-full",onClick:()=>{J(e),Z(!0)},children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Book Session"]})]})})]},e.id))})})]})}),(0,a.jsx)(h.av,{value:"schedule",className:"space-y-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Schedule Overview"}),(0,a.jsx)(i.BT,{children:"View your upcoming and past sessions"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Upcoming Sessions"}),0===V.length?(0,a.jsx)("p",{className:"text-gray-600",children:"No upcoming sessions"}):(0,a.jsx)("div",{className:"space-y-3",children:V.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)(f.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-medium",children:[e.subject," - ",e.topic]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[O(e.scheduled_date)," at ",D(e.scheduled_time)]})]}),(0,a.jsx)(x.E,{variant:"secondary",children:e.tutor_name})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Completed Sessions"}),0===P.length?(0,a.jsx)("p",{className:"text-gray-600",children:"No completed sessions"}):(0,a.jsx)("div",{className:"space-y-3",children:P.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-medium",children:[e.subject," - ",e.topic]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[O(e.scheduled_date)," with ",e.tutor_name]})]}),e.rating&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,a.jsx)("span",{className:"text-sm",children:e.rating})]})]},e.id))})]})]})})]})})]}),(0,a.jsx)(m.lG,{open:F,onOpenChange:Z,children:(0,a.jsxs)(m.Cf,{className:"max-w-md",children:[(0,a.jsxs)(m.c7,{children:[(0,a.jsx)(m.L3,{children:"Book Tutoring Session"}),(0,a.jsxs)(m.rr,{children:["Schedule a session with ",(null==M?void 0:M.name)||"a tutor"]})]}),(0,a.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"subject",children:"Subject *"}),(0,a.jsx)(n.p,{id:"subject",value:q.subject,onChange:e=>E({...q,subject:e.target.value}),placeholder:"e.g., Mathematics, Science",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"topic",children:"Topic *"}),(0,a.jsx)(n.p,{id:"topic",value:q.topic,onChange:e=>E({...q,topic:e.target.value}),placeholder:"e.g., Algebra, Physics",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"date",children:"Date *"}),(0,a.jsx)(n.p,{id:"date",type:"date",value:q.date,onChange:e=>E({...q,date:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"time",children:"Time *"}),(0,a.jsx)(n.p,{id:"time",type:"time",value:q.time,onChange:e=>E({...q,time:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"duration",children:"Duration (minutes)"}),(0,a.jsxs)(o.l6,{value:q.duration.toString(),onValueChange:e=>E({...q,duration:parseInt(e)}),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"30",children:"30 minutes"}),(0,a.jsx)(o.eb,{value:"60",children:"1 hour"}),(0,a.jsx)(o.eb,{value:"90",children:"1.5 hours"}),(0,a.jsx)(o.eb,{value:"120",children:"2 hours"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.J,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(d.T,{id:"notes",value:q.notes,onChange:e=>E({...q,notes:e.target.value}),placeholder:"Any specific topics or questions you'd like to cover...",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(c.$,{type:"submit",className:"flex-1",children:"Book Session"}),(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>Z(!1),children:"Cancel"})]})]})]})})]})}},88222:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(50208).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6411,909,4918,9040,4772,2168,6721,3664,7358],()=>s(56475)),_N_E=e.O()}]);
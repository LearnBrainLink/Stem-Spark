(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{18120:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(81767),l=t(13647),s=t(19266),o=t(90655),n=t(4970),d=t.n(n),i=t(64893),u=t.n(i);function c(){let[e,r]=(0,l.useState)({fullName:"",email:"",password:"",confirmPassword:"",role:"student"}),[t,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(""),m=(0,o.useRouter)(),x=(0,s.U)(),b=async r=>{if(r.preventDefault(),n(!0),c(""),e.password!==e.confirmPassword){c("Passwords do not match"),n(!1);return}try{var t,a;let{data:r,error:l}=await x.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{full_name:e.fullName,role:e.role}}});if(l)throw l;let s={id:null==(t=r.user)?void 0:t.id,full_name:e.fullName,email:e.email,role:e.role};"student"===e.role?(s.grade=parseInt(e.grade||"0"),s.school=e.school):"teacher"===e.role?(s.subject=e.subject,s.experience=e.experience):"parent"===e.role&&(s.children=e.children);let{error:o}=await x.from("profiles").insert([s]);if(o)throw o;if("student"===e.role&&e.parentName&&e.parentEmail){let{error:t}=await x.from("parent_student_relationships").insert([{student_id:null==(a=r.user)?void 0:a.id,parent_name:e.parentName,parent_email:e.parentEmail,parent_phone:e.parentPhone,relationship:e.relationship}]);if(t)throw t}c("Account created successfully! Please check your email to verify your account."),setTimeout(()=>{m.push("/login")},3e3)}catch(e){console.error("Error:",e),c("Error creating account. Please try again.")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)(d(),{href:"/",className:"flex items-center",children:[(0,a.jsx)(u(),{src:"/images/novakinetix-logo.png",alt:"NovaKinetix Academy Logo",width:40,height:40,className:"mr-3"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"NovaKinetix Academy"})]}),(0,a.jsx)(d(),{href:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign In"})]})})}),(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Your Account"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join NovaKinetix Academy"})]}),i&&(0,a.jsx)("div",{className:"p-4 rounded-md ".concat(i.includes("Error")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:i}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:b,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I am a: *"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>r({...e,role:"student"}),className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat("student"===e.role?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:"Student"}),(0,a.jsx)("button",{type:"button",onClick:()=>r({...e,role:"parent"}),className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat("parent"===e.role?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:"Parent"}),(0,a.jsx)("button",{type:"button",onClick:()=>r({...e,role:"teacher"}),className:"p-3 border rounded-lg text-sm font-medium transition-colors ".concat("teacher"===e.role?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:"Teacher"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.fullName,onChange:t=>r({...e,fullName:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:e.email,onChange:t=>r({...e,email:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),(0,a.jsx)("input",{type:"password",required:!0,value:e.password,onChange:t=>r({...e,password:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),(0,a.jsx)("input",{type:"password",required:!0,value:e.confirmPassword,onChange:t=>r({...e,confirmPassword:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),"student"===e.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Grade *"}),(0,a.jsxs)("select",{required:!0,value:e.grade,onChange:t=>r({...e,grade:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Grade"}),[9,10,11,12].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"School *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.school,onChange:t=>r({...e,school:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Parent/Guardian Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.parentName,onChange:t=>r({...e,parentName:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Parent/Guardian Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:e.parentEmail,onChange:t=>r({...e,parentEmail:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Parent/Guardian Phone"}),(0,a.jsx)("input",{type:"tel",value:e.parentPhone,onChange:t=>r({...e,parentPhone:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Relationship to Student *"}),(0,a.jsxs)("select",{required:!0,value:e.relationship,onChange:t=>r({...e,relationship:t.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Relationship"}),(0,a.jsx)("option",{value:"parent",children:"Parent"}),(0,a.jsx)("option",{value:"guardian",children:"Guardian"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]})]}),"teacher"===e.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subject/Area of Expertise *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.subject,onChange:t=>r({...e,subject:t.target.value}),placeholder:"e.g., Mathematics, Physics, Computer Science",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Teaching Experience"}),(0,a.jsx)("input",{type:"text",value:e.experience,onChange:t=>r({...e,experience:t.target.value}),placeholder:"e.g., 5 years",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),"parent"===e.role&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Children Information"}),(0,a.jsx)("textarea",{value:e.children,onChange:t=>r({...e,children:t.target.value}),placeholder:"Please provide information about your children (names, ages, schools)",rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:t,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:t?"Creating Account...":"Create Account"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(d(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})]})}},19266:(e,r,t)=>{"use strict";t.d(r,{U:()=>s});var a=t(32365),l=t(53045);function s(){return(0,a.kT)(l.env.NEXT_PUBLIC_SUPABASE_URL,l.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},64893:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return d},getImageProps:function(){return n}});let a=t(53283),l=t(46931),s=t(14583),o=a._(t(86025));function n(e){let{props:r}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let d=s.Image},90655:(e,r,t)=>{"use strict";var a=t(3399);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},90971:(e,r,t)=>{Promise.resolve().then(t.bind(t,18120))}},e=>{var r=r=>e(e.s=r);e.O(0,[2365,4970,4583,6721,3664,7358],()=>r(90971)),_N_E=e.O()}]);
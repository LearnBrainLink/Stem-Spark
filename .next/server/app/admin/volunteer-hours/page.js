(()=>{var e={};e.id=3685,e.ids=[3685],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15626:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(61659).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/admin/volunteer-hours/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/admin/volunteer-hours/page.tsx","default")},18291:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=t(69287),a=t(23112),n=t(79194),i=t.n(n),l=t(12701),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c={children:["",{children:["admin",{children:["volunteer-hours",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,15626)),"/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/admin/volunteer-hours/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66786)),"/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,48774)),"/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,48486,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,71007,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,30260,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/yatishgrandhe/Downloads/Stem-Spark-main/app/admin/volunteer-hours/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/volunteer-hours/page",pathname:"/admin/volunteer-hours",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26408:(e,s,t)=>{let{createProxy:r}=t(64148);e.exports=r("/Users/yatishgrandhe/Downloads/Stem-Spark-main/node_modules/.pnpm/next@15.3.3_@babel+core@7.28.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/app-dir/link.js")},28792:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(84919),a=t(13730),n=t(12932),i=t(24802),l=t(95169),d=t(12598),c=t(35838),o=t(42434),x=t(21380),m=t(95030),h=t(2476),u=t(34139),p=t(45686),j=t(76634),v=t(39822),g=t(52268),f=t(73329);function y(){let[e,s]=(0,a.useState)([]),[t,y]=(0,a.useState)(null),[N,b]=(0,a.useState)(!0),[w,_]=(0,a.useState)(null),[A,k]=(0,a.useState)(null),[S,P]=(0,a.useState)(!1),[R,C]=(0,a.useState)(""),[D,E]=(0,a.useState)(!1),Z=async()=>{try{b(!0);let e=await fetch("/api/volunteer-hours/pending"),t=await e.json(),r=await fetch("/api/admin/volunteer-hours/stats"),a=await r.json();e.ok&&s(t.data||[]),r.ok&&y(a.data)}catch(e){_("Failed to fetch volunteer hours data"),console.error("Error fetching data:",e)}finally{b(!1)}},T=async e=>{try{E(!0),_(null);let s=await fetch("/api/volunteer-hours/approve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hours_id:e,approved_by:"current-admin-id"})}),t=await s.json();t.success?Z():_(t.error||"Failed to approve volunteer hours")}catch(e){_("Failed to approve volunteer hours"),console.error("Error approving hours:",e)}finally{E(!1)}},q=async()=>{if(!A||!R.trim())return void _("Please provide a rejection reason");try{E(!0),_(null);let e=await fetch("/api/volunteer-hours/reject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hours_id:A.id,rejected_by:"current-admin-id",rejection_reason:R.trim()})}),s=await e.json();s.success?(P(!1),k(null),C(""),Z()):_(s.error||"Failed to reject volunteer hours")}catch(e){_("Failed to reject volunteer hours"),console.error("Error rejecting hours:",e)}finally{E(!1)}},M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),U=e=>{switch(e){case"approved":return(0,r.jsxs)(l.E,{className:"bg-green-100 text-green-800",children:[(0,r.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return(0,r.jsxs)(l.E,{className:"bg-red-100 text-red-800",children:[(0,r.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"pending":return(0,r.jsxs)(l.E,{className:"bg-yellow-100 text-yellow-800",children:[(0,r.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Pending"]});default:return(0,r.jsx)(l.E,{className:"bg-gray-100 text-gray-800",children:e})}},B=e=>({"Tutoring Session":"bg-blue-100 text-blue-800","Event Assistance":"bg-purple-100 text-purple-800",Mentoring:"bg-green-100 text-green-800","Administrative Support":"bg-orange-100 text-orange-800","Content Creation":"bg-pink-100 text-pink-800",Other:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800";return N?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Volunteer Hours Management"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Review and approve intern volunteer hours"})]})}),t&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Pending Reviews"}),(0,r.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:t.total_pending}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Approved"}),(0,r.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.total_approved}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.total_hours_approved," hours approved"]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Recent Submissions"}),(0,r.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.recent_submissions}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg Approval Time"}),(0,r.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.average_approval_time}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hours to approve"})]})]})]}),(0,r.jsxs)(o.tU,{defaultValue:"pending",className:"space-y-4",children:[(0,r.jsxs)(o.j7,{children:[(0,r.jsxs)(o.Xi,{value:"pending",children:["Pending Review (",e.filter(e=>"pending"===e.status).length,")"]}),(0,r.jsx)(o.Xi,{value:"recent",children:"Recent Activity"})]}),(0,r.jsx)(o.av,{value:"pending",className:"space-y-4",children:0===e.filter(e=>"pending"===e.status).length?(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,r.jsx)(h.A,{className:"h-12 w-12 text-green-600 mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"No pending volunteer hours to review"})]})}):(0,r.jsx)("div",{className:"space-y-4",children:e.filter(e=>"pending"===e.status).map(e=>(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(g.A,{className:"w-5 h-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"text-lg",children:e.intern.full_name}),(0,r.jsx)(n.BT,{children:e.intern.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.E,{className:B(e.activity_type),children:e.activity_type}),U(e.status)]})]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Activity Details"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.activity_description}),e.description&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[(0,r.jsx)("strong",{children:"Notes:"})," ",e.description]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Hours:"}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.hours})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Date:"}),(0,r.jsx)("p",{className:"text-sm",children:M(e.activity_date)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Submitted:"}),(0,r.jsx)("p",{className:"text-sm",children:M(e.created_at)})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:()=>T(e.id),disabled:D,className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,r.jsxs)(i.$,{variant:"outline",onClick:()=>{k(e),P(!0)},disabled:D,children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})})]},e.id))})}),(0,r.jsx)(o.av,{value:"recent",className:"space-y-4",children:(0,r.jsx)("div",{className:"space-y-4",children:0===e.length?(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-8",children:[(0,r.jsx)(j.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"No volunteer hours found"})]})}):e.map(e=>(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(g.A,{className:"w-5 h-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{className:"text-lg",children:e.intern.full_name}),(0,r.jsx)(n.BT,{children:e.intern.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.E,{className:B(e.activity_type),children:e.activity_type}),U(e.status)]})]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Activity Details"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.activity_description}),e.description&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[(0,r.jsx)("strong",{children:"Notes:"})," ",e.description]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Hours:"}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.hours})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Date:"}),(0,r.jsx)("p",{className:"text-sm",children:M(e.activity_date)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Status:"}),(0,r.jsx)("p",{className:"text-sm",children:M(e.created_at)})]})]}),e.rejection_reason&&(0,r.jsxs)(c.Fc,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsxs)(c.TN,{children:[(0,r.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejection_reason]})]})]})})]},e.id))})})]}),(0,r.jsx)(d.lG,{open:S,onOpenChange:P,children:(0,r.jsxs)(d.Cf,{children:[(0,r.jsxs)(d.c7,{children:[(0,r.jsx)(d.L3,{children:"Reject Volunteer Hours"}),(0,r.jsx)(d.rr,{children:"Please provide a reason for rejecting this volunteer hours submission."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[A&&(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:A.intern.full_name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:A.activity_description}),(0,r.jsxs)("p",{className:"text-sm font-medium mt-2",children:[A.hours," hours â€¢ ",M(A.activity_date)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{htmlFor:"rejection-reason",children:"Rejection Reason *"}),(0,r.jsx)(x.T,{id:"rejection-reason",value:R,onChange:e=>C(e.target.value),placeholder:"Please provide a clear reason for rejection...",rows:3,required:!0})]}),w&&(0,r.jsxs)(c.Fc,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)(c.TN,{children:w})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(i.$,{variant:"outline",onClick:()=>{P(!1),k(null),C("")},children:"Cancel"}),(0,r.jsx)(i.$,{onClick:q,disabled:D||!R.trim(),variant:"destructive",children:D?"Rejecting...":"Reject Hours"})]})]})]})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34139:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(55e3).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},34186:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,33822,23))},39822:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(55e3).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},52268:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(55e3).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66786:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(93269),a=t(26408),n=t.n(a);function i({children:e}){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard"})}),(0,r.jsxs)("nav",{className:"flex space-x-8",children:[(0,r.jsx)(n(),{href:"/admin",className:"text-gray-700 hover:text-blue-600",children:"Dashboard"}),(0,r.jsx)(n(),{href:"/admin/applications",className:"text-gray-700 hover:text-blue-600",children:"Applications"}),(0,r.jsx)(n(),{href:"/admin/users",className:"text-gray-700 hover:text-blue-600",children:"Users"}),(0,r.jsx)(n(),{href:"/admin/analytics",className:"text-gray-700 hover:text-blue-600",children:"Analytics"}),(0,r.jsx)(n(),{href:"/admin/monitoring",className:"text-gray-700 hover:text-blue-600",children:"Monitoring"}),(0,r.jsx)(n(),{href:"/admin/security",className:"text-gray-700 hover:text-blue-600",children:"Security"}),(0,r.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-blue-600",children:"Back to Site"})]})]})})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})}},80489:(e,s,t)=>{Promise.resolve().then(t.bind(t,28792))},90217:(e,s,t)=>{Promise.resolve().then(t.bind(t,15626))},99682:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,26408,23))}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1703,7284,3822,5398,3534,4356,8765],()=>t(18291));module.exports=r})();